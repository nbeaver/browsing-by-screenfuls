<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="author" lang="en" content="Nathaniel Beaver">
<title>Browsing by screenfuls</title>
<link rel="stylesheet" href="sandbox.css">
<script type="text/javascript" src="Bottomless_Browsing.user.js"></script>
<script type="text/javascript">
function windowVals() {
  var windowVars = new Array();
  windowVars['scrollHeight - clientHeight'] = document.documentElement.scrollHeight - document.documentElement.clientHeight;
  windowVars['innerHeight'] = window.innerHeight;
  windowVars['clientHeight'] = document.documentElement.clientHeight;
  windowVars['scrollMaxY'] = window.scrollMaxY;
  windowVars['scrollHeight'] = document.documentElement.scrollHeight;
  windowVars['offsetHeight'] = document.documentElement.offsetHeight;
  windowVars['scrollTop'] = document.documentElement.scrollTop;
  var varString = '';
  for (var myvar in windowVars) {
    varString += myvar + "=" + windowVars[myvar] + "\n";
  }
  return varString;
}
</script>
</head>
<body>

<h1>
Browsing by screenfuls
</h1>

<button onclick="alert(windowVals())">Window values</button> 

<!-- I think these sections should be paragraphs, not divs. -->
<p>
Nathaniel Beaver, September 7, 2012
(Updated and expanded February 2015.)
</p>

<p>
I read a lot of documents on LCD computer screens.

PDFs are annoying to read on most displays,
since the PDF is usually a letter size portrait orientation,
whereas most displays are landscape orientation.

PDFs also can't be reflowed and waste a lot of space in the margins,
which makes them almost unreadable on small or narrow screens.
</p>

<p>
HTML rendered in a browser, however,
can reflow to fill whatever screen it's displayed on,
and with proper use of CSS can be made readable on any display.

You can change the font,
resize the text,
even change the CSS if you want.

HTML is flexible and continuous
in a way that PDFs aren't
and were never meant to be.
</p>

<p>
HTML also tends to be better for skimming a document.

If I hold down the Page Down key in Adobe Acrobat Readerâ„¢ on a long PDF,
the pages don't stop coming after I release the key;
I asked for that many pages and by George I'll get them,
even if it takes several minutes to load pages I didn't want to see.

By then I've lost my place and I have to go find it again somehow.

(This issue is mostly a feature of Adobe's PDF reader, by the way;
open-source PDF readers like Evince don't generally have this issue
unless the PDF is very image-heavy or otherwise renders slowly.)
</p>

<p>
when HTML doesn't fit one one screenful,
most people scroll to see the rest of the page,
which used to require clicking and dragging on the scroll bar,
but is easier now that we have touch screens and scroll wheels on mice.

Scrolling is hard on the eyes because it takes a lot of effort to track moving text.
It's also slow; that's one reason why we invented the
<a href="https://en.wikipedia.org/wiki/Codex">
paginated codex
</a>
in the first place.

Browser developers know this;
that's why the spacebar and Page Down keys both move down the page by one screenful.
</p>

<button onclick="alert(windowVals())">Window values</button> 

<p>
Reading by screenfuls is a natural way to read documents.
I love the page down capability,
because it is similar to reading a book,
but keeps some continuity between 'pages'.

The text stays still until I get the bottom of the screen,
then I page down and flick my eyes up to the top of the screen.

Beautiful.
</p>

<p>
However, there is a problem with reading HTML
that is a result of browser implementation,
not intrinsic to the format.

Suppose I am reading an HTML page that is a screenful and a half long.

When I page down, the browser will not move the bottom line of text to the top of the screen.

Instead, it will put the end of the document at the bottom of the screen,
ignoring any attempt at continuity.

I think of this as 'bottoming out',
since it gives a jarring sensation when reading reminiscent of
a car's suspension dipping down too far and smacking into the dirt.

PDF documents have to do this because they must preserve the typographical layout,
but webpages have no reason to break the flow of reading at the end.
</p>

<p>
Contrast this with moving forward a screenful in text editors like
<a href="https://www.gnu.org/software/emacs/">
Emacs
</a>
(<code>C-v</code>)
or
<a href="http://www.vim.org/">Vim</a>
(<code>C-f</code>).
They move the line at the bottom of the screen to the top of the screen,
regardless of how many lines the file happens to be.
Emacs adds some unreachable blank space at the bottom,
and Vim puts cute little tildes to show you're past the end of the document,
like this:<br>
~<br>
~<br>
~<br>
The venerable Unix terminal pager
<a href="https://www.gnu.org/software/less/">
<code>less</code>
</a>
calls this <code>forw-screen-force</code>,
which is mapped to <code>Esc-Space</code> by default;
the manual page notes this command
"scrolls a full screenful, even if it reaches end-of-file in the process."
</p>

<button onclick="alert(windowVals())">Window values</button> 

<p>
After using Vim for a while,
I realized how nice this is for editing text,
and how annoying its absence is in web browsers,
especially on websites that consist of a single article
<a href="http://www.slate.com/articles/technology/technology/2012/10/website_pagination_stories_should_load_into_a_single_page_every_time_.html">
unnecessarily chopped into pages
</a>
so that the site can slap more banner ads at the top.

I don't want to give the impression
that web designers are totally unaware of this problem
-- this is one reason for the big footers at the bottom of many webpages --
but it was evident that the general problem would not be solved at the browser level any time soon.
</p>

<p>
I'd found ways to combat
<a href="http://adblockplus.org/en/">
irritating ads</a>,
<a href="http://www.teesoft.info/">
unnecessary pagination</a>,
and 
<a href="http://alisdair.mcdiarmid.org/2013/05/29/kill-sticky-headers.html">
annoying sticky headers</a>,
but there was nothing I can do about bottoming out on the last screenful.
I resigned myself to inferior browsing,
since nobody seemed to notice or care enough to fix it.
</p>

<p>
That is, until now; the results of my experiment are on this very page.
It will not bottom out on the last screenful;
there will be tildes padding the bottom as needed.
<p>

<p>
If you want to use the script,
the easiest way is to get it directly from the
<a href="Bottomless_Browsing.user.js">
source of this page</a>.


Chrome/Chromium has
<a href="http://www.chromium.org/developers/design-documents/user-scripts">
support for userscripts built in</a>;
on Firefox you will need
<a href="http://www.greasespot.net/">
Greasemonkey</a>.

(I had posted the script on
<a href="https://web.archive.org/web/20131108025632/http://userscripts.org/scripts/show/145505">
userscripts.org
</a>
but alas,
<a href="https://news.ycombinator.com/item?id=1574840">
userscripts has been dead since May 2014</a>
and
<a href="http://www.ghacks.net/2014/05/09/userscripts-org-good-alternatives/">
is not coming back</a>.)
</p>

<p>
The implementation is in plain Javascript and requires no libraries,
so it will work offline for e.g. reading documentation.

It works by appending an empty div to the end of the body
and listening for scroll and resize events.
While it works fine for most websites I have tried,
it does have difficulties with absolutely positioned elements.
</p>

<button onclick="alert(windowVals())">Window values</button> 

</body>
</html>
